{"openapi": "3.0.0", "info": {"title": "Haunted API", "version": "0"}, "paths": {"/api/v0/server-info": {"get": {"parameters": [], "responses": {"200": {"description": "getServerInfo response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/serverInfoResponse"}}}}}}}, "/api/v0/tags": {"get": {"parameters": [], "responses": {"200": {"description": "getTags response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/tagsResponse"}}}}}}}, "/api/v0/sessions": {"get": {"parameters": [], "responses": {"200": {"description": "getSessions response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/sessionsResponse"}}}}}}, "post": {"parameters": [], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/createSessionRequest"}}}}, "responses": {"200": {"description": "createSession response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}}, "/api/v0/sessions/{sessionId}": {"get": {"parameters": [{"name": "sessionId", "in": "path", "required": true, "schema": {"type": "string", "format": ""}}], "responses": {"200": {"description": "getSession response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/sessionResponse"}}}}}}, "post": {"parameters": [{"name": "sessionId", "in": "path", "required": true, "schema": {"type": "string", "format": ""}}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/createSessionRequest"}}}}, "responses": {"200": {"description": "editSession response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}, "delete": {"parameters": [{"name": "sessionId", "in": "path", "required": true, "schema": {"type": "string", "format": ""}}], "responses": {"200": {"description": "deleteSession response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}}, "/api/v0/sessions/check-access": {"post": {"parameters": [], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/sessionAccessRequest"}}}}, "responses": {"200": {"description": "checkSessionAccess response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}}, "/api/v0/sessions/session-players": {"post": {"parameters": [], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/sessionsPlayersRequest"}}}}, "responses": {"200": {"description": "updateSessionsPlayers response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/empty"}}}}}}}, "/api/v0/announcements": {"get": {"parameters": [], "responses": {"200": {"description": "getAnnouncements response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/announcementsResponse"}}}}}}}, "/api/v0/auth/profile": {"get": {"parameters": [], "responses": {"200": {"description": "getProfile response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/profileInfoResponse"}}}}}}}, "/api/v0/auth/change-username": {"post": {"parameters": [], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/changeUsernameRequest"}}}}, "responses": {"200": {"description": "changeUsername response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}}, "/api/v0/auth/regenerate-token": {"get": {"parameters": [], "responses": {"200": {"description": "regenerateToken response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/empty"}}}}}}}, "/api/v0/auth/login": {"post": {"parameters": [], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/loginRequest"}}}}, "responses": {"200": {"description": "login response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}}, "/api/v0/auth/register": {"post": {"parameters": [], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/registerRequest"}}}}, "responses": {"200": {"description": "register response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}}, "/api/v0/auth/change-password": {"post": {"parameters": [], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/changePasswordRequest"}}}}, "responses": {"200": {"description": "changePassword response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}}, "/api/v0/auth/change-email": {"post": {"parameters": [], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/changeEmailRequest"}}}}, "responses": {"200": {"description": "changeEmail response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/successResponse"}}}}}}}, "/api/v0/auth/logout": {"get": {"parameters": [], "responses": {"200": {"description": "logout response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/empty"}}}}}}}}, "components": {"schemas": {"announcementEntry": {"type": "object", "required": ["background_color", "message", "text_color"], "properties": {"background_color": {"type": "string", "minLength": 1}, "message": {"type": "string", "minLength": 1}, "text_color": {"type": "string", "minLength": 1}}}, "announcementsResponse": {"type": "object", "required": ["announcements"], "properties": {"announcements": {"type": "array", "items": {"$ref": "#/components/schemas/announcementEntry"}}}}, "booleanField": {"type": "object", "properties": {}}, "changeEmailRequest": {"type": "object", "required": ["email"], "properties": {"email": {"type": "string", "minLength": 1}}}, "changePasswordRequest": {"type": "object", "required": ["password"], "properties": {"password": {"type": "string", "minLength": 1}}}, "changeUsernameRequest": {"type": "object", "required": ["username"], "properties": {"username": {"type": "string", "minLength": 1}}}, "createSessionRequest": {"type": "object", "required": ["description", "tags"], "properties": {"description": {"type": "string"}, "tags": {"type": "array", "items": {"type": "integer", "format": "int64"}}, "time": {"type": "object", "$ref": "#/components/schemas/timeSpan"}}}, "empty": {"type": "object", "properties": {}}, "integerField": {"type": "object", "properties": {}}, "isoDateTime": {"type": "object", "properties": {}}, "loginRequest": {"type": "object", "required": ["password", "username"], "properties": {"password": {"type": "string", "minLength": 1}, "username": {"type": "string", "minLength": 1}}}, "profileInfoResponse": {"type": "object", "required": ["authenticated", "username", "verified"], "properties": {"auth_token": {"type": "string", "minLength": 1}, "authenticated": {"type": "boolean"}, "email": {"type": "string", "minLength": 1}, "username": {"type": "string", "minLength": 1}, "verified": {"type": "boolean"}}}, "registerRequest": {"type": "object", "required": ["email", "password", "username"], "properties": {"email": {"type": "string", "minLength": 1}, "password": {"type": "string", "minLength": 1}, "username": {"type": "string", "minLength": 1}}}, "serverInfoResponse": {"type": "object", "required": ["coop_url", "total_sessions", "total_users"], "properties": {"coop_url": {"type": "string", "minLength": 1}, "total_sessions": {"type": "integer", "format": "int64", "minimum": 0}, "total_users": {"type": "integer", "format": "int64", "minimum": 0}}}, "session": {"type": "object", "required": ["description", "id", "owner", "players", "tags"], "properties": {"description": {"type": "string"}, "id": {"type": "string", "minLength": 1}, "owner": {"type": "string", "minLength": 1}, "players": {"type": "array", "items": {"type": "string", "minLength": 1}}, "tags": {"type": "array", "items": {"$ref": "#/components/schemas/sessionTag"}}, "time": {"type": "object", "$ref": "#/components/schemas/timeSpan"}}}, "sessionAccessRequest": {"type": "object", "required": ["api_key", "auth_token", "session_id", "username"], "properties": {"api_key": {"type": "string", "minLength": 1}, "auth_token": {"type": "string", "minLength": 1}, "session_id": {"type": "string", "minLength": 1}, "username": {"type": "string", "minLength": 1}}}, "sessionPlayers": {"type": "object", "required": ["session_id", "usernames"], "properties": {"session_id": {"type": "string", "minLength": 1}, "usernames": {"type": "array", "items": {"type": "string", "minLength": 1}}}}, "sessionResponse": {"type": "object", "properties": {"session": {"type": "object", "$ref": "#/components/schemas/session"}}}, "sessionTag": {"type": "object", "required": ["description", "name"], "properties": {"description": {"type": "string", "minLength": 1}, "name": {"type": "string", "minLength": 1}}}, "sessionsPlayersRequest": {"type": "object", "required": ["api_key", "sessions"], "properties": {"api_key": {"type": "string", "minLength": 1}, "sessions": {"type": "array", "items": {"$ref": "#/components/schemas/sessionPlayers"}}}}, "sessionsResponse": {"type": "object", "required": ["sessions"], "properties": {"sessions": {"type": "array", "items": {"$ref": "#/components/schemas/session"}}}}, "stringField": {"type": "object", "properties": {}}, "successResponse": {"type": "object", "required": ["message", "success"], "properties": {"message": {"type": "string"}, "success": {"type": "boolean"}}}, "tag": {"type": "object", "required": ["description", "id", "name"], "properties": {"description": {"type": "string"}, "id": {"type": "integer", "format": "int64"}, "name": {"type": "string", "minLength": 1}}}, "tagsResponse": {"type": "object", "required": ["tags"], "properties": {"tags": {"type": "array", "items": {"$ref": "#/components/schemas/tag"}}}}, "timeSpan": {"type": "object", "required": ["end", "start"], "properties": {"end": {"type": "string", "pattern": "[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\.[0-9]+(\\+[0-9]{2}:[0-9]{2}|Z)"}, "start": {"type": "string", "pattern": "[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\.[0-9]+(\\+[0-9]{2}:[0-9]{2}|Z)"}}}}}}